# Sensor Message Synchronization Configuration
#
# This configuration file defines settings for ensuring uniform
# message transmission intervals across all IoT sensor devices

[mqtt]
# QoS Level for reliable message delivery
# 0 = At most once (fire and forget)
# 1 = At least once (acknowledged delivery) - RECOMMENDED
# 2 = Exactly once (highest reliability, more overhead)
qos_level = 1

# Message retention settings
retain_messages = false

# Keep-alive interval for MQTT connections (seconds)
keepalive_interval = 60

[monitoring]
# Interval for checking message balance across devices (seconds)
balance_check_interval = 300

# Threshold for considering devices as imbalanced (percentage)
# If message counts differ by more than this percentage, flag as imbalanced
balance_threshold = 0.10

# Maximum time to consider a device as active (seconds)
device_active_timeout = 300

# Maximum time to consider a device as stale (seconds)
device_stale_timeout = 3600

[synchronization]
# Expected message interval for all devices (seconds)
# This should match the configuration on your sensor devices
expected_message_interval = 60

# Tolerance for message timing deviation (seconds)
timing_tolerance = 10

# Auto-correction settings
enable_auto_correction = true

# Number of missed messages before flagging a device
max_missed_messages = 3

[database]
# SQLite database file path
db_path = "/data/sensor_logs.db"

# Enable WAL mode for better concurrent access
enable_wal_mode = true

# Database maintenance interval (seconds)
maintenance_interval = 86400

[logging]
# Log level: DEBUG, INFO, WARNING, ERROR
log_level = "INFO"

# Enable detailed device tracking logs
enable_device_tracking = true

# Enable balance check logging
enable_balance_logging = true

[alerts]
# Enable alert notifications (future implementation)
enable_alerts = false

# Alert thresholds
critical_imbalance_threshold = 0.25
warning_imbalance_threshold = 0.15

# Alert cooldown period (seconds)
alert_cooldown = 1800